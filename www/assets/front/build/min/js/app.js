const $closeFloatText=document.querySelector("[data-infotext-close]");$closeFloatText&&$closeFloatText.addEventListener("click",function(e){e.preventDefault(),document.cookie="floatText=1; path=/",document.querySelector($closeFloatText.dataset.infotextClose).remove()});const $slideshows=document.querySelectorAll("[data-slideshow]");Array.from($slideshows).map(e=>{tns({container:e,mode:"gallery",autoplay:!0,autoplayTimeout:5e3,nav:!0,lazyload:!0,autoplayButtonOutput:!1,navPosition:"bottom",controls:!0})});const $carousels=document.querySelectorAll("[data-carousel]");Array.from($carousels).map(e=>{tns({container:e,mode:"carousel",autoplay:!0,autoplayTimeout:5e3,nav:!0,lazyload:!0,autoplayButtonOutput:!1,navPosition:"bottom",controls:!1})});const $expandables=document.querySelectorAll("[data-expandable]");Array.from($expandables).map(e=>{const t=e.querySelector(".expandable__inner"),a=e.dataset.expandable,n=document.querySelector('[data-expandable-btn="'+a+'"]');if(t.clientHeight-e.clientHeight>20){const a=e.clientHeight;n.addEventListener("click",o=>{o.preventDefault();const i=e.classList.contains("expandable--expanded")?a:t.clientHeight;e.style.maxHeight=i+"px",e.classList.toggle("expandable--expanded");const l=n.innerHTML;n.innerHTML=n.dataset.expandableTitle,n.dataset.expandableTitle=l})}else e.style.maxHeight=t.clientHeight+"px",e.classList.remove("expandable"),n.classList.add("d-none")});const initAutoSubmits=e=>{Array.from(e).map(e=>{const t=e.dataset.autoSubmit||"change";e.addEventListener(t,a=>{"click"===t&&a.preventDefault(),$(e.form).submit()})})};initAutoSubmits(document.querySelectorAll("[data-auto-submit]")),"undefined"!=typeof GLightbox&&new GLightbox;const initRangeSlider=e=>{Array.from(e).map(function(e){const t=e.dataset.range.split(",").map(e=>parseFloat(e)),a=e.querySelector("[data-range-slider]"),n=e.querySelector("[data-range-start]"),o=e.querySelector("[data-range-end]"),i=e.querySelector("[data-range-start-value]"),l=e.querySelector("[data-range-end-value]");noUiSlider.create(a,{start:[parseFloat(n.value),parseFloat(o.value)],connect:!0,step:1,range:{min:t[0],max:t[1]}}),a.noUiSlider.on("update",e=>{e=e.map(e=>parseFloat(e));var t=new Intl.NumberFormat;n.value=e[0],o.value=e[1],i.innerHTML=t.format(e[0].toFixed(0)),l.innerHTML=t.format(e[1].toFixed(0))}),a.noUiSlider.on("change",()=>$(a.closest("form")).submit())})};initRangeSlider(document.querySelectorAll("[data-range]"));const spinNumber=(e,t)=>{const a=e.dataset[t?"spinMore":"spinLess"],n=document.querySelector('[data-spinner="'+a+'"]'),o=n.value,i=parseFloat(n.max)||null,l=parseFloat(n.min)||null,s=n.step&&"any"!=n.step?parseFloat(n.step):1;let r=(parseFloat(n.value)||1)+(t?1:-1)*s;if(null!==l&&r<l&&(r=l),null!==i&&r>i&&(r=i),n.value=r,r!=o){const e=new Event("change");n.dispatchEvent(e)}},initSpinNumber=(e,t)=>{Array.from(e).map(e=>e.addEventListener("click",a=>spinNumber(e,t)))};initSpinNumber(document.querySelectorAll("[data-spin-more]"),!0),initSpinNumber(document.querySelectorAll("[data-spin-less]"),!1);const $filterToggle=document.querySelector("[data-toggle-filters]");$filterToggle&&$filterToggle.addEventListener("click",e=>{e.preventDefault(),$filterToggle.getBoundingClientRect().bottom<window.innerHeight&&window.scrollBy(0,-(window.innerHeight-$filterToggle.getBoundingClientRect().bottom)),document.body.classList.toggle("filters--opened")});const fixButtons=e=>{const t=e.querySelectorAll("label.btn");Array.from(t).map(e=>{e.addEventListener("click",a=>{Array.from(t).map(t=>{t!==e&&(t.classList.remove("focus"),t.classList.remove("active"))})})})},$buttons=document.querySelectorAll('[data-toggle="buttons"]');Array.from($buttons).map(e=>fixButtons(e));const $collapses=document.querySelectorAll('[data-toggle="collapse"]');Array.from($collapses).map(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation()})}),$.nette.ext("dropdowns",{start:function(e,t){NProgress.start();const a=t.nette&&t.nette.ui.dataset.disableAjaxAppend;if(a){const e=this.getSnippet(a);e&&e.removeAttribute("data-ajax-append"),this.disabledAppend.indexOf(a)>-1||this.disabledAppend.push(a)}},complete:function(e,t,a){NProgress.done();for(let e=0;e<this.disabledAppend.length;e++){const t=this.disabledAppend[e],a=this.getSnippet(t);a&&(a.dataset.ajaxAppend=""),this.disabledAppend=this.disabledAppend.filter(e=>e!=t)}}},{disabledAppend:[],getSnippet:e=>document.getElementById("snippet--"+e)}),$.nette.ext("cartModal",{success:function(e){if(!0===e.addedToCart){const e=document.getElementById("cartModal");new Modal(e).show()}if(e.addedToCartItem){const t=e.addedToCartItem,a=t.product;window.dataLayer=window.dataLayer||[],window.dataLayer.push({currency:"EUR",event:"addToCart",product:{id:a.id,name:a.name,price:a.price,quantity:t.amount}}),window.dataLayer.push({event:"add_to_cart",currency:"EUR",value:parseFloat(a.price)*parseFloat(t.amount),items:[{id:a.id,name:a.name,price:a.price,quantity:t.amount,google_business_vertical:"retail"}]})}}}),$.nette.ext("snippets").afterQueue.add(e=>{e.find("[data-toggle]").each(function(){"dropdown"===$(this).data("toggle")&&new Dropdown($(this)[0]),"modal"===$(this).data("toggle")&&new Modal($(this)[0]),"buttons"===$(this).data("toggle")&&(new Button($(this)[0]),fixButtons($(this)[0]))}),e.find("[data-auto-submit]").each(function(){initAutoSubmits([this])}),e.find("[data-range]").each(function(){initRangeSlider([this])}),e.find("[data-spin-more]").each(function(){initSpinNumber([this],!0)}),e.find("[data-spin-less]").each(function(){initSpinNumber([this],!1)})});