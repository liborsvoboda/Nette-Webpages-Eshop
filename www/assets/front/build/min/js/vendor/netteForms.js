!function(e,t){if(e.JSON)if("function"==typeof define&&define.amd)define(function(){return t(e)});else if("object"==typeof module&&"object"==typeof module.exports)module.exports=t(e);else{var n=!e.Nette||!e.Nette.noInit;e.Nette=t(e),n&&e.Nette.initOnLoad()}}("undefined"!=typeof window?window:this,function(e){"use strict";var t={},n={},r={};return t.formErrors=[],t.version="3.0",t.onDocumentReady=function(e){"loading"!==document.readyState?e.call(this):document.addEventListener("DOMContentLoaded",e)},t.getValue=function(e){var n;if(e){if(e.tagName){if("radio"===e.type){var r=e.form.elements;for(n=0;n<r.length;n++)if(r[n].name===e.name&&r[n].checked)return r[n].value;return null}if("file"===e.type)return e.files||e.value;if("select"===e.tagName.toLowerCase()){var a=e.selectedIndex,i=e.options,u=[];if("select-one"===e.type)return a<0?null:i[a].value;for(n=0;n<i.length;n++)i[n].selected&&u.push(i[n].value);return u}if(e.name&&e.name.match(/\[\]$/)){for(r=e.form.elements[e.name].tagName?[e]:e.form.elements[e.name],u=[],n=0;n<r.length;n++)("checkbox"!==r[n].type||r[n].checked)&&u.push(r[n].value);return u}return"checkbox"===e.type?e.checked:"textarea"===e.tagName.toLowerCase()?e.value.replace("\r",""):e.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return e[0]?t.getValue(e[0]):null}return null},t.getEffectiveValue=function(e,r){var a=t.getValue(e);if(e.getAttribute&&a===e.getAttribute("data-nette-empty-value")&&(a=""),r&&void 0===n[e.name]){n[e.name]=!0;var i={value:a};t.validateControl(e,null,!0,i),a=i.value,delete n[e.name]}return a},t.validateControl=function(e,n,r,a,i){e=e.tagName?e:e[0],n=n||JSON.parse(e.getAttribute("data-nette-rules")||"[]"),a=void 0===a?{value:t.getEffectiveValue(e)}:a,i=i||!t.validateRule(e,":filled",null,a);for(var u=0,l=n.length;u<l;u++){var o=n[u],f=o.op.match(/(~)?([^?]+)/),d=o.control?e.form.elements.namedItem(o.control):e;if(o.neg=f[1],o.op=f[2],o.condition=!!o.rules,d&&(!i||o.condition||":filled"===o.op)){d=d.tagName?d:d[0];var s=t.validateRule(d,o.op,o.arg,e===d?a:void 0);if(null!==s)if(o.neg&&(s=!s),o.condition&&s){if(!t.validateControl(e,o.rules,r,a,":blank"!==o.op&&i))return!1}else if(!o.condition&&!s){if(t.isDisabled(d))continue;if(!r){var m=Array.isArray(o.arg)?o.arg:[o.arg],c=o.msg.replace(/%(value|\d+)/g,function(n,r){return t.getValue("value"===r?d:e.form.elements.namedItem(m[r].control))});t.addError(d,c)}return!1}}}return!("number"===e.type&&!e.validity.valid)||(r||t.addError(e,"Please enter a valid value."),!1)},t.validateForm=function(e,n){var r=e.form||e,a=!1;if(t.formErrors=[],r["nette-submittedBy"]&&null!==r["nette-submittedBy"].getAttribute("formnovalidate")){var i=JSON.parse(r["nette-submittedBy"].getAttribute("data-nette-validation-scope")||"[]");if(!i.length)return t.showFormErrors(r,[]),!0;a=new RegExp("^("+i.join("-|")+"-)")}var u,l,o={};for(u=0;u<r.elements.length;u++)if(!(l=r.elements[u]).tagName||l.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===l.type){if(o[l.name])continue;o[l.name]=!0}if(!(a&&!l.name.replace(/]\[|\[|]|$/g,"-").match(a)||t.isDisabled(l)||t.validateControl(l,null,n)||t.formErrors.length))return!1}var f=!t.formErrors.length;return t.showFormErrors(r,t.formErrors),f},t.isDisabled=function(e){if("radio"===e.type){for(var t=0,n=e.form.elements;t<n.length;t++)if(n[t].name===e.name&&!n[t].disabled)return!1;return!0}return e.disabled},t.addError=function(e,n){t.formErrors.push({element:e,message:n})},t.showFormErrors=function(e,t){for(var n,r=[],a=0;a<t.length;a++){var i=t[a].element,u=t[a].message;r.indexOf(u)<0&&(r.push(u),!n&&i.focus&&(n=i))}r.length&&(alert(r.join("\n")),n&&n.focus())},t.validateRule=function(e,n,r,a){a=void 0===a?{value:t.getEffectiveValue(e,!0)}:a,":"===n.charAt(0)&&(n=n.substr(1)),n=(n=n.replace("::","_")).replace(/\\/g,"");for(var i=Array.isArray(r)?r.slice(0):[r],u=0,l=i.length;u<l;u++)if(i[u]&&i[u].control){var o=e.form.elements.namedItem(i[u].control);i[u]=o===e?a.value:t.getEffectiveValue(o,!0)}return t.validators[n]?t.validators[n](e,Array.isArray(r)?i:i[0],a.value,a):null},t.validators={filled:function(t,n,r){return!("number"!==t.type||!t.validity.badInput)||""!==r&&!1!==r&&null!==r&&(!Array.isArray(r)||!!r.length)&&(!e.FileList||!(r instanceof e.FileList)||r.length)},blank:function(e,n,r){return!t.validators.filled(e,n,r)},valid:function(e){return t.validateControl(e,null,!0)},equal:function(e,t,n){if(void 0===t)return null;function r(e){return"number"==typeof e||"string"==typeof e?""+e:!0===e?"1":""}n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];e:for(var a=0,i=n.length;a<i;a++){for(var u=0,l=t.length;u<l;u++)if(r(n[a])===r(t[u]))continue e;return!1}return!0},notEqual:function(e,n,r){return void 0===n?null:!t.validators.equal(e,n,r)},minLength:function(e,t,n){if("number"===e.type){if(e.validity.tooShort)return!1;if(e.validity.badInput)return null}return n.length>=t},maxLength:function(e,t,n){if("number"===e.type){if(e.validity.tooLong)return!1;if(e.validity.badInput)return null}return n.length<=t},length:function(e,t,n){if("number"===e.type){if(e.validity.tooShort||e.validity.tooLong)return!1;if(e.validity.badInput)return null}return(null===(t=Array.isArray(t)?t:[t,t])[0]||n.length>=t[0])&&(null===t[1]||n.length<=t[1])},email:function(e,t,n){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(n)},url:function(e,t,n,r){return/^[a-z\d+.-]+:/.test(n)||(n="http://"+n),!!/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(n)&&(r.value=n,!0)},regexp:function(e,t,n){var r="string"==typeof t&&t.match(/^\/(.*)\/([imu]*)$/);try{return r&&new RegExp(r[1],r[2].replace("u","")).test(n)}catch(e){}},pattern:function(t,n,r,a,i){if("string"!=typeof n)return null;try{try{var u=new RegExp("^(?:"+n+")$",i?"ui":"u")}catch(e){u=new RegExp("^(?:"+n+")$",i?"i":"")}if(e.FileList&&r instanceof FileList){for(var l=0;l<r.length;l++)if(!u.test(r[l].name))return!1;return!0}return u.test(r)}catch(e){}},patternCaseInsensitive:function(e,n,r){return t.validators.pattern(e,n,r,null,!0)},numeric:function(e,t,n){return("number"!==e.type||!e.validity.badInput)&&/^[0-9]+$/.test(n)},integer:function(e,t,n){return("number"!==e.type||!e.validity.badInput)&&/^-?[0-9]+$/.test(n)},float:function(e,t,n,r){return("number"!==e.type||!e.validity.badInput)&&(n=n.replace(/ +/g,"").replace(/,/g,"."),!!/^-?[0-9]*\.?[0-9]+$/.test(n)&&(r.value=n,!0))},min:function(e,t,n){if("number"===e.type){if(e.validity.rangeUnderflow)return!1;if(e.validity.badInput)return null}return null===t||parseFloat(n)>=t},max:function(e,t,n){if("number"===e.type){if(e.validity.rangeOverflow)return!1;if(e.validity.badInput)return null}return null===t||parseFloat(n)<=t},range:function(e,t,n){if("number"===e.type){if(e.validity.rangeUnderflow||e.validity.rangeOverflow)return!1;if(e.validity.badInput)return null}return Array.isArray(t)?(null===t[0]||parseFloat(n)>=t[0])&&(null===t[1]||parseFloat(n)<=t[1]):null},submitted:function(e){return e.form["nette-submittedBy"]===e},fileSize:function(t,n,r){if(e.FileList)for(var a=0;a<r.length;a++)if(r[a].size>n)return!1;return!0},image:function(t,n,r){if(e.FileList&&r instanceof e.FileList)for(var a=0;a<r.length;a++){var i=r[a].type;if(i&&"image/gif"!==i&&"image/png"!==i&&"image/jpeg"!==i)return!1}return!0},static:function(e,t){return t}},t.toggleForm=function(e,n){var a;for(r={},a=0;a<e.elements.length;a++)e.elements[a].tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&t.toggleControl(e.elements[a],null,null,!n);for(a in r)t.toggle(a,r[a],n)},t.toggleControl=function(e,n,a,i,u){n=n||JSON.parse(e.getAttribute("data-nette-rules")||"[]"),u=void 0===u?{value:t.getEffectiveValue(e)}:u;for(var l,o=!1,f=[],d=function(){t.toggleForm(e.form,e)},s=0,m=n.length;s<m;s++){var c=n[s],g=c.op.match(/(~)?([^?]+)/),v=c.control?e.form.elements.namedItem(c.control):e;if(v){if(l=a,!1!==a){if(c.neg=g[1],c.op=g[2],null===(l=t.validateRule(v,c.op,c.arg,e===v?u:void 0)))continue;c.neg&&(l=!l),c.rules||(a=l)}if(c.rules&&t.toggleControl(e,c.rules,l,i,u)||c.toggle){if(o=!0,i)for(var p=v.tagName?v.name:v[0].name,y=v.tagName?v.form.elements:v,F=0;F<y.length;F++)y[F].name===p&&f.indexOf(y[F])<0&&(y[F].addEventListener("change",d),f.push(y[F]));for(var h in c.toggle||[])Object.prototype.hasOwnProperty.call(c.toggle,h)&&(r[h]=r[h]||(c.toggle[h]?l:!l))}}}return o},t.toggle=function(e,t,n){/^\w[\w.:-]*$/.test(e)&&(e="#"+e);for(var r=document.querySelectorAll(e),a=0;a<r.length;a++)r[a].hidden=!t},t.initForm=function(e){t.toggleForm(e),e.noValidate||(e.noValidate=!0,e.addEventListener("submit",function(n){t.validateForm(e)||(n.stopPropagation(),n.preventDefault())}))},t.initOnLoad=function(){t.onDocumentReady(function(){for(var e=0;e<document.forms.length;e++)for(var n=document.forms[e],r=0;r<n.elements.length;r++)if(n.elements[r].getAttribute("data-nette-rules")){t.initForm(n);break}document.body.addEventListener("click",function(e){for(var t=e.target;t;){if(t.form&&t.type in{submit:1,image:1}){t.form["nette-submittedBy"]=t;break}t=t.parentNode}})})},t.webalize=function(e){e=e.toLowerCase();var n,r="";for(n=0;n<e.length;n++)r+=t.webalizeTable[e.charAt(n)]||e.charAt(n);return r.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},t.webalizeTable={"á":"a","ä":"a","č":"c","ď":"d","é":"e","ě":"e","í":"i","ľ":"l","ň":"n","ó":"o","ô":"o","ř":"r","š":"s","ť":"t","ú":"u","ů":"u","ý":"y","ž":"z"},t});